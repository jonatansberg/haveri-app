# ===================================================================
# Haveri runtime environment (used by web app + worker at runtime)
# ===================================================================

# PostgreSQL connection string for Drizzle + Better Auth + incident data.
DATABASE_URL=postgres://postgres:postgres@localhost:5432/haveri

# Redis connection string used by BullMQ (escalation scheduling + worker jobs).
REDIS_URL=redis://localhost:6379

# Fallback tenant/org when x-org-id header is not supplied.
DEFAULT_ORG_ID=00000000-0000-0000-0000-000000000001

# -------------------------------------------------------------------
# Better Auth (runtime)
# -------------------------------------------------------------------

# Public URL where this app is served (used for auth callbacks and links).
# In local dev this can be left empty so Better Auth follows the current origin
# (useful when Vite runs on a different port, e.g. 5174).
BETTER_AUTH_URL=

# Long random secret used to sign auth tokens/cookies.
BETTER_AUTH_SECRET=change-me-to-a-long-random-secret

# Comma-separated allowlist of origins allowed to call auth endpoints.
# Optional for local same-origin usage.
BETTER_AUTH_TRUSTED_ORIGINS=

# -------------------------------------------------------------------
# Teams integration (runtime)
# -------------------------------------------------------------------

# Global incident announcement destination.
# Formats supported:
# - teams|<teamId>|<channelId>
# - <teamId>/<channelId>
# - <channelId> (only if TEAMS_INCIDENT_TEAM_ID is set)
TEAMS_GLOBAL_INCIDENT_CHANNEL=haveri-incidents

# Prefix for newly created incident channels (e.g. incident-sev1-line-down).
TEAMS_INCIDENT_CHANNEL_PREFIX=incident

# Team GUID where incident channels are created by Graph.
TEAMS_INCIDENT_TEAM_ID=

# Entra tenant GUID for Graph token acquisition.
TEAMS_TENANT_ID=

# Entra app/client ID used for Graph client-credentials auth.
TEAMS_CLIENT_ID=

# Entra app client secret for Graph client-credentials auth.
TEAMS_CLIENT_SECRET=

# Graph API base URL (keep default unless using sovereign clouds).
TEAMS_GRAPH_BASE_URL_ROOT=https://graph.microsoft.com

# Optional delegated Graph token override (dev/debug only).
# When set, this is used instead of client credentials.
TEAMS_DELEGATED_ACCESS_TOKEN=

# -------------------------------------------------------------------
# Teams manifest/package generation
# -------------------------------------------------------------------

# Keep packaging-only values in .env.teams-package (see example file):
# .env.teams-package.example
